<!DOCTYPE html>
<html>

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<style>
		#screenshot .img-fluid {
			max-height: 1100px;
		}
	</style>
	<title>Status Chatkey Tool</title>
</head>

<body>
	<div class="px-4 py-5 my-5 text-center">
		<form>
			<h1>Set Chatkey in ENS Resolver:</h1>
			<label for='status-chatkey'>Status Chatkey:</label>
			<input id='status-chatkey' type='text'>
			<h3 id="3wordname"></h3>
			<label for='ens-text'>ENS Name:</label>
			<input id='ens-text' type='text'>
			<input id='gentxn' type='button' value='Generate Transaction Request'>
		</form>
	</div>
	<div class="px-4 py-5 my-5 text-center">
		<form>
			<h1>Lookup Chatkey from ENS:</h1>
			<label for='ens-lookup'>ENS Name:</label>
			<input id='ens-lookup' type='text'>
			<input id='lookup' type='button' value='Lookup Chatkey'>
			<h3 id="chatkey_result"></h3>
		</form>
	</div>
	<div class="px-4 py-5 my-5 text-left">
		<ul>
			<li>
				This tool can be used to setup an ENS to point to a Status Chatkey.
				This is useful to use an ENS name in Status that you can't/won't import into Status's in-app wallet
				database.
				For example, you may have an ENS in an Argent contract wallet, or a Ledger hardware wallet. You can use
				Metamask connected to your hardware wallet with this tool.
			</li>
			<li>
				If you are trying out Status for the first time and don't want to import your existing secret recovery
				phrase, you will need to generate a new wallet in the app and
				you should backup that secret recovery phrase (a.k.a. seedphrase) as well. This seedphrase is what is
				used to generate both ETH wallets within the Status app and your Status chatkey, herein known as a BIP44
				Wallet Tree.
				<a href="https://specs.status.im/spec/2#publicprivate-keypairs">(Technical details here.)</a>
				You do not have to use this BIP44 Wallet Tree for anything more than messaging on Status, but if you use
				any accounts derived from this newly generated BIP44 Wallet Tree for valuable transactions on
				ETH or any other chain, you must backup this securely backup this seedphrase to avoid permanent loss of
				all valuables.
			</li>
			<li>
				After generating a new wallet in Status, you can then use this tool
				with your existing 3rd party wallet to point an existing ENS in said wallet to the newly generated
				Status wallet chatkey. You can always point your ENS to a different chatkey later, by coming back to
				this tool.
			</li>
			<li>
				This tool relies on "injected web3" and does not support WalletConnect or other means of connecting to
				Ethereum. You should visit this page inside your wallet app or with a browser extension like Metamask,
				Brave, or Frame.
			</li>
			<li>
				If you try to set a chatkey for an ENS you don't own, an error will be thrown.
			</li>
		</ul>
	</div>
	<div class="container-fluid text-center" id="screenshot">
		<h1>How to setup your ENS in-app *after* using this tool:</h1>
		<p>You need to add the ENS name as a 'view-only' wallet, then go through the regular ENS setup flow in the
			settings.</p>
		<ol>
			<li><br /><img src="screenshots/1.png" class="img-fluid"></li>
			<li><br /><img src="screenshots/2.png" class="img-fluid"></li>
			<li><br /><img src="screenshots/3.png" class="img-fluid"></li>
			<li><br /><img src="screenshots/4.png" class="img-fluid"></li>
			<li><br /><img src="screenshots/5.png" class="img-fluid"></li>
			<li><br /><img src="screenshots/6.png" class="img-fluid"></li>
			<li><br /><img src="screenshots/7.png" class="img-fluid"></li>
			<li><br /><img src="screenshots/8.png" class="img-fluid"></li>
			<li><br /><img src="screenshots/9.png" class="img-fluid"></li>
		</ol>
	</div>
</body>

<script src="main.js" type="module"></script>

</html>